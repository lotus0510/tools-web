\# 🧰 工具集整合手冊（維護與故障排除）



> 本文件整合了維護指南與故障排除指南，提供完整的開發、部署、問題排查與日常維護參考。



---



\## 📖 目錄



\* \[項目概述](#項目概述)

\* \[環境變數與 API Key 設定](#環境變數與-api-key-設定)

\* \[本地開發流程](#本地開發流程)

\* \[部署指南](#部署指南)

\* \[功能模組與常見問題對照](#功能模組與常見問題對照)

\* \[網路與 CORS 問題](#網路與-cors-問題)

\* \[Node.js 與本地開發錯誤排查](#nodejs-與本地開發錯誤排查)

\* \[維護檢查清單](#維護檢查清單)

\* \[進階診斷工具](#進階診斷工具)

\* \[支援與聯絡方式](#支援與聯絡方式)



---



\## 🎯 項目概述



\* 前端框架：React 19.1.0 + TypeScript 5.8.3

\* 構建工具：Vite 7.0.4

\* 部署平台：GitHub Pages

\* CI/CD：GitHub Actions

\* 專案位置：\[https://github.com/lotus0510/tools-web](https://github.com/lotus0510/tools-web)



---



\## 🔐 環境變數與 API Key 設定



\### ✅ 需要或可選的環境變數：



| 變數名                 | 模組用途    | 必需性 | 獲取方式                                                     |

| ------------------- | ------- | --- | -------------------------------------------------------- |

| `VITE\_AI\_API\_KEY`   | AI 聊天助手 | 可選  | \[https://openrouter.ai/keys](https://openrouter.ai/keys) |

| `VITE\_NEWS\_API\_KEY` | 新聞閱讀器   | 可選  | \[https://newsapi.org/](https://newsapi.org/)             |



\### AI 聊天助手常見錯誤：



\* 「請先在設置中配置 API Key」：未設定

\* 「🚫 不支援付費模型」：預設 Key 限制

\* API 調用失敗：Key 錯誤或逾時



\### 新聞閱讀器常見錯誤：



\* 無法載入新聞：CORS 或代理問題

\* 搜尋無效：空關鍵字或語言不支援

\* 載入緩慢：代理服務響應延遲

\* 顯示示例內容：所有代理服務都無法訪問



\#### 新聞功能故障排除：



\*\*CORS 代理優先順序（2024年優化）\*\*：

1. **CodeTabs** (主要) - 通常最穩定，8秒超時
2. **ThingProxy** (次要) - 簡單易用，6秒超時
3. **AllOrigins** (備用) - 5秒超時  
4. **其他代理** - 5秒超時

\*\*診斷步驟\*\*：
- 開啟日誌面板查看詳細錯誤
- 檢查網路連接
- 嘗試不同地區/分類
- 重新整理頁面



---



\## 💻 本地開發流程



```bash

\# 1. 取得程式碼

$ git clone https://github.com/lotus0510/tools-web.git

$ cd tools-web



\# 2. 安裝依賴

$ npm install



\# 3. 設定環境變數

$ cp .env.example .env

\# 編輯 .env 並填入 API Key（可選）



\# 4. 啟動本地服務

$ npm run dev

```



---



\## 🚀 部署指南（GitHub Pages）



\* 確保 `vite.config.ts` 中 `base` 設為 `/tools-web/`

\* GitHub Secrets 設定：加入 `VITE\_AI\_API\_KEY` 和 `VITE\_NEWS\_API\_KEY`

\* 推送後會自動觸發 GitHub Actions 部署



常見問題：



\* 空白頁面：base 路徑錯誤

\* Actions 失敗：Node.js 版本錯誤、Secrets 缺失



---



\## 🧩 功能模組與常見問題對照



| 模組         | 狀態        | 問題類型               | 解決建議             |

| ---------- | --------- | ------------------ | ---------------- |

| AI 聊天助手    | 需 API Key | API Key 缺失/逾時/模型錯誤 | 檢查 API Key 設定與網路 |

| 新聞閱讀器      | 主功能免費     | CORS、代理錯誤          | 多代理自動切換（CodeTabs優先） |

| 隨機身份生成器    | 獨立        | 複製失敗、PDF 下載無效      | 檢查 HTTPS/瀏覽器 API |

| 猜數字 / 記憶遊戲 | 獨立        | 卡頓、手機觸控無效          | 重整、確認事件綁定        |



---



\## 🌐 網路與 CORS 問題



\* CORS 錯誤：多代理自動切換（如 allorigins）

\* 網路請求失敗：確認瀏覽器與網路環境、測試是否跨域

\* 本地開發：務必使用 `npm run dev`



---



\## 🛠 Node.js 與本地開發錯誤排查



\### 問題：Node.js 指令無效（PATH 問題）



\* 解法：



&nbsp; \* 重新啟動終端

&nbsp; \* PowerShell 執行 `$env:PATH` 重載指令

&nbsp; \* 使用完整路徑執行 Node/npm



\#### 完整路徑執行方法：



\*\*1. 檢查 Node.js 安裝位置\*\*：

```powershell

Test-Path "C:\\Program Files\\nodejs\\node.exe"

Test-Path "C:\\Program Files (x86)\\nodejs\\node.exe"

```



\*\*2. 使用完整路徑執行（推薦方法）\*\*：

```powershell

\# 檢查版本

Start-Process -FilePath "C:\\Program Files\\nodejs\\node.exe" -ArgumentList "--version" -Wait -NoNewWindow -PassThru



\# 執行 npm 指令

Start-Process -FilePath "C:\\Program Files\\nodejs\\npm.cmd" -ArgumentList "install" -Wait -NoNewWindow -PassThru

Start-Process -FilePath "C:\\Program Files\\nodejs\\npm.cmd" -ArgumentList "run", "dev" -Wait -NoNewWindow -PassThru

```



\*\*3. 或使用調用運算符（簡化方法）\*\*：

```powershell

& "C:\\Program Files\\nodejs\\node.exe" --version

& "C:\\Program Files\\nodejs\\npm.cmd" --version

```



\### 問題：構建失敗或無法啟動



```bash

rm -rf node\_modules package-lock.json

npm install

npm run dev

```



\### 檢查方式：



```powershell

node --version

npm --version

```



---



\## ✅ 維護檢查清單



\### 每月檢查：



\* \[ ] npm 套件是否更新、安全

\* \[ ] GitHub Pages 是否能正常瀏覽

\* \[ ] GitHub Actions 是否成功執行

\* \[ ] OpenRouter 與 NewsAPI 是否正常服務



\### 安全檢查：



\* \[ ] API Key 是否安全儲存於 Secrets

\* \[ ] `npm audit` 無重大漏洞



---



\## 🔍 進階診斷工具



\* Console: `F12` 開發者工具 → Console/Error/Network

\* 測試 API：



```javascript

fetch('https://openrouter.ai/api/v1/models', {

&nbsp; headers: { 'Authorization': 'Bearer YOUR\_API\_KEY' }

}).then(r => r.json()).then(console.log)

```



\* 測試 CORS：



```javascript

fetch('https://api.allorigins.win/raw?url=https://www.google.com')

```



---



\## 📞 支援與聯絡方式



\* GitHub：\[@lotus0510](https://github.com/lotus0510)

\* 專案連結：\[https://github.com/lotus0510/tools-web](https://github.com/lotus0510/tools-web)

\* 常用文件：



&nbsp; \* \[Vite 文檔](https://vitejs.dev/)

&nbsp; \* \[React 文檔](https://reactjs.org/)

&nbsp; \* \[OpenRouter API](https://openrouter.ai/docs)

&nbsp; \* \[NewsAPI 文檔](https://newsapi.org/docs)



---



\*\*📋 最後更新：2024年1月\*\*



